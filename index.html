<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Pixi Document</title>
  </head>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pixi.js/5.2.0/pixi.min.js"></script>
  <link rel="stylesheet" href="style.css" />
  <body>
    <script>
      //Create a Pixi Application
      let app = new PIXI.Application({
        antialias: true,
        resolution: window.devicePixelRatio,
        autoResize: true,
        resizeTo: window,
        backgroundColor: 0x061639
      });
      //Add the canvas that Pixi automatically created for you to the HTML document
      document.body.appendChild(app.view);

      console.log(window.devicePixelRatio);

      app.renderer.view.style.position = "absolute";
      app.renderer.view.style.display = "block";

      function reportWindowSize() {
        app.resize();
      }

      window.addEventListener("resize", reportWindowSize);

      startup();

      async function startup() {
        const src = "https://pixijs.io/examples/examples/assets/video.mp4";

        const videoSource = new PIXI.resources.VideoResource(src, {
          autoPlay: false,
          autoLoad: true
        });

        let texture = PIXI.Texture.from(videoSource);

        let videoSprite = new PIXI.Sprite(texture);

        videoSprite.width = app.screen.width;
        videoSprite.height = app.screen.height;

        texture.baseTexture.resource.source.muted = true;

        app.stage.addChild(videoSprite);
        videoSource.source.play();
      }

      const basicStyle = new PIXI.TextStyle({
        fontSize: 16,
        fill: ["#ffffff"], // gradient
        wordWrap: true,
        wordWrapWidth: 440
      });

      const basicText = new PIXI.Text(
        "I see darkness where there was light",
        basicStyle
      );
      basicText.x = 50;
      basicText.y = 100;
      basicText.cursor = "wait";
      basicText.interactive = true;

      app.stage.addChild(basicText);

      const style = new PIXI.TextStyle({
        fontFamily: "Arial",
        fontSize: 36,
        fontStyle: "italic",
        fontWeight: "bold",
        fill: ["#ffffff", "#00ff99"], // gradient
        stroke: "#4a1850",
        strokeThickness: 5,
        dropShadow: true,
        dropShadowColor: "#000000",
        dropShadowBlur: 4,
        dropShadowAngle: Math.PI / 6,
        dropShadowDistance: 6,
        wordWrap: true,
        wordWrapWidth: 440
      });

      const richText = new PIXI.Text(
        "Rich text with a lot of options and across multiple lines",
        style
      );
      richText.x = 50;
      richText.y = 250;

      app.stage.addChild(richText);
    </script>
  </body>
</html>

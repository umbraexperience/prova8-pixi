<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Pixi Document</title>
  </head>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pixi.js/5.2.0/pixi.min.js"></script>
  <link rel="stylesheet" href="style.css" />
  <body>
    <script>
      //Create a Pixi Application
      let app = new PIXI.Application({
        antialias: true,
        resolution: window.devicePixelRatio,
        autoResize: true,
        resizeTo: window,
        backgroundColor: 0x061639
      });
      //Add the canvas that Pixi automatically created for you to the HTML document
      document.body.appendChild(app.view);

      console.log(window.devicePixelRatio);

      app.renderer.view.style.position = "absolute";
      app.renderer.view.style.display = "block";

      function reportWindowSize() {
        app.resize();
      }

      window.addEventListener("resize", reportWindowSize);

      startup();

      async function startup() {
        const src = "./assets/video.mp4";

        const videoSource = new PIXI.resources.VideoResource(src, {
          autoPlay: false,
          autoLoad: true
        });

        let texture = PIXI.Texture.from(videoSource);

        let videoSprite = new PIXI.Sprite(texture);

        videoSprite.width = app.screen.width;
        videoSprite.height = app.screen.height;
        videoSprite.scale.set(1.2);

        video = texture.baseTexture.resource.source;

        video.muted = true;
        video.loop = true;

        app.stage.addChild(videoSprite);
        videoSource.source.play();
      }

      const basicStyle = new PIXI.TextStyle({
        fontFamily: "Tiempos Headline Light",
        fontSize: 16,
        fill: ["#d1d1d1", "#1f1f1f", "#242424", "#d1d1d1"], // gradient
        fillGradientStops: [0.1, 0.4, 0.6, 1],
        fillGradientType: 1,
        wordWrap: true,
        wordWrapWidth: 440
      });

      const basicText = new PIXI.Text(
        "An inmersive experience to find yourself",
        basicStyle
      );
      basicText.x = app.screen.width / 2;
      basicText.anchor.set(0.5);
      basicText.scale.set(1.2);

      basicText.y = app.screen.height / 2 + 110;
      basicText.cursor = "wait";
      basicText.interactive = true;

      var blurFilter = new PIXI.filters.BlurFilter();
      basicText.filters = [blurFilter];
      blurFilter.blur = 0.85;

      app.stage.addChild(basicText);
    </script>
  </body>
</html>
